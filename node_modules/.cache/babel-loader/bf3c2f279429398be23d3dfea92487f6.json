{"remainingRequest":"Z:\\progs\\examples\\TT\\testTask\\node_modules\\babel-loader\\lib\\index.js!Z:\\progs\\examples\\TT\\testTask\\node_modules\\eslint-loader\\index.js??ref--13-0!Z:\\progs\\examples\\TT\\testTask\\src\\store\\modules\\unsplash.js","dependencies":[{"path":"Z:\\progs\\examples\\TT\\testTask\\src\\store\\modules\\unsplash.js","mtime":1600987190022},{"path":"Z:\\progs\\examples\\TT\\testTask\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"Z:\\progs\\examples\\TT\\testTask\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"Z:\\progs\\examples\\TT\\testTask\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiWjovcHJvZ3MvZXhhbXBsZXMvVFQvdGVzdFRhc2svbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgdW5zcGxhc2hBUEkgZnJvbSAnLi4vLi4vYXBpL3Vuc3BsYXNoLmpzJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHsKICAgIHBob3RvczogW10sCiAgICBzdGF0czoge30sCiAgICBsb2FkaW5nOiBmYWxzZQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTRVRfUEhPVE9TOiBmdW5jdGlvbiBTRVRfUEhPVE9TKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLnBob3RvcyA9IHBheWxvYWQ7CiAgICB9LAogICAgU0VUX1NUQVRTOiBmdW5jdGlvbiBTRVRfU1RBVFMoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgVnVlLnNldChzdGF0ZS5zdGF0cywgcGF5bG9hZC5pZCwgcGF5bG9hZCk7CiAgICB9LAogICAgU0VUX0xPQURJTkc6IGZ1bmN0aW9uIFNFVF9MT0FESU5HKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBwYXlsb2FkOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgZ2V0UGhvdG9zOiBmdW5jdGlvbiBnZXRQaG90b3MoX3JlZiwgcGFnZSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICBjb21taXQoJ1NFVF9MT0FESU5HJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB1bnNwbGFzaEFQSS5nZXQoJ3Bob3RvcycsIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCdTRVRfUEhPVE9TJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICBjb21taXQoJ1NFVF9MT0FESU5HJywgZmFsc2UpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAxMF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0U3RhdDogZnVuY3Rpb24gZ2V0U3RhdChfcmVmMiwgaWQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB1bnNwbGFzaEFQSS5nZXQoInBob3Rvcy8iLmNvbmNhdChpZCwgIi9zdGF0aXN0aWNzIikpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCdTRVRfU1RBVFMnLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGdldFBob3RvczogZnVuY3Rpb24gZ2V0UGhvdG9zKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5waG90b3M7CiAgICB9LAogICAgZ2V0U3RhdDogZnVuY3Rpb24gZ2V0U3RhdChzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgcmV0dXJuIHN0YXRlLnN0YXRzW2lkXTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRMb2FkaW5nU3RhdGU6IGZ1bmN0aW9uIGdldExvYWRpbmdTdGF0ZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9hZGluZzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Z:/progs/examples/TT/testTask/src/store/modules/unsplash.js"],"names":["unsplashAPI","Vue","state","photos","stats","loading","mutations","SET_PHOTOS","payload","SET_STATS","set","id","SET_LOADING","actions","getPhotos","page","commit","get","params","response","data","console","log","getStat","getters","getLoadingState"],"mappings":";;AAAA,OAAOA,WAAP,MAAwB,uBAAxB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,eAAe;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE,EADH;AAELC,IAAAA,KAAK,EAAE,EAFF;AAGLC,IAAAA,OAAO,EAAE;AAHJ,GADM;AAMbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,UADS,sBACGL,KADH,EACUM,OADV,EACmB;AAC1BN,MAAAA,KAAK,CAACC,MAAN,GAAeK,OAAf;AACD,KAHQ;AAITC,IAAAA,SAJS,qBAIEP,KAJF,EAISM,OAJT,EAIkB;AACzBP,MAAAA,GAAG,CAACS,GAAJ,CAAQR,KAAK,CAACE,KAAd,EAAqBI,OAAO,CAACG,EAA7B,EAAiCH,OAAjC;AACD,KANQ;AAOTI,IAAAA,WAPS,uBAOIV,KAPJ,EAOWM,OAPX,EAOoB;AAC3BN,MAAAA,KAAK,CAACG,OAAN,GAAgBG,OAAhB;AACD;AATQ,GANE;AAiBbK,EAAAA,OAAO,EAAE;AACDC,IAAAA,SADC,2BACsBC,IADtB,EAC4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAhBC,gBAAAA,MAAgB,QAAhBA,MAAgB;AAAA;AAE/BA,gBAAAA,MAAM,CAAC,aAAD,EAAgB,IAAhB,CAAN;AAF+B;AAAA,uBAGRhB,WAAW,CAACiB,GAAZ,CAAgB,QAAhB,EAA0B;AAC/CC,kBAAAA,MAAM,EAAE;AACNH,oBAAAA,IAAI,EAAJA;AADM;AADuC,iBAA1B,CAHQ;;AAAA;AAGzBI,gBAAAA,QAHyB;AAQ/BH,gBAAAA,MAAM,CAAC,YAAD,EAAeG,QAAQ,CAACC,IAAxB,CAAN;AACAJ,gBAAAA,MAAM,CAAC,aAAD,EAAgB,KAAhB,CAAN;AAT+B;AAAA;;AAAA;AAAA;AAAA;AAW/BK,gBAAAA,OAAO,CAACC,GAAR;;AAX+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAalC,KAdM;AAeDC,IAAAA,OAfC,0BAeoBZ,EAfpB,EAewB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAdK,gBAAAA,MAAc,SAAdA,MAAc;AAAA;AAAA;AAAA,uBAEJhB,WAAW,CAACiB,GAAZ,kBAA0BN,EAA1B,iBAFI;;AAAA;AAErBQ,gBAAAA,QAFqB;AAG3BH,gBAAAA,MAAM,CAAC,WAAD,EAAcG,QAAQ,CAACC,IAAvB,CAAN;AAH2B;AAAA;;AAAA;AAAA;AAAA;AAK3BC,gBAAAA,OAAO,CAACC,GAAR;;AAL2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAO9B;AAtBM,GAjBI;AAyCbE,EAAAA,OAAO,EAAE;AACPV,IAAAA,SAAS,EAAE,mBAAAZ,KAAK;AAAA,aAAIA,KAAK,CAACC,MAAV;AAAA,KADT;AAEPoB,IAAAA,OAAO,EAAE,iBAAArB,KAAK;AAAA,aAAI,UAAAS,EAAE;AAAA,eAAIT,KAAK,CAACE,KAAN,CAAYO,EAAZ,CAAJ;AAAA,OAAN;AAAA,KAFP;AAGPc,IAAAA,eAAe,EAAE,yBAAAvB,KAAK;AAAA,aAAIA,KAAK,CAACG,OAAV;AAAA;AAHf;AAzCI,CAAf","sourcesContent":["import unsplashAPI from '../../api/unsplash.js'\r\nimport Vue from 'vue'\r\nexport default {\r\n  state: {\r\n    photos: [],\r\n    stats: {},\r\n    loading: false\r\n  },\r\n  mutations: {\r\n    SET_PHOTOS (state, payload) {\r\n      state.photos = payload\r\n    },\r\n    SET_STATS (state, payload) {\r\n      Vue.set(state.stats, payload.id, payload)\r\n    },\r\n    SET_LOADING (state, payload) {\r\n      state.loading = payload\r\n    }\r\n  },\r\n  actions: {\r\n    async getPhotos ({ commit }, page) {\r\n      try {\r\n        commit('SET_LOADING', true)\r\n        const response = await unsplashAPI.get('photos', {\r\n          params: {\r\n            page\r\n          }\r\n        })\r\n        commit('SET_PHOTOS', response.data)\r\n        commit('SET_LOADING', false)\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    },\r\n    async getStat ({ commit }, id) {\r\n      try {\r\n        const response = await unsplashAPI.get(`photos/${id}/statistics`)\r\n        commit('SET_STATS', response.data)\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n  },\r\n  getters: {\r\n    getPhotos: state => state.photos,\r\n    getStat: state => id => state.stats[id],\r\n    getLoadingState: state => state.loading\r\n  }\r\n}\r\n"]}]}